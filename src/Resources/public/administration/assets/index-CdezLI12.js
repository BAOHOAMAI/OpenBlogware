const o=`{% block werkl_blog_list %} <sw-page class="werkl-blog-list"> <template #smart-bar-header> <h2> {% block werkl_blog_list_smart_bar_header_title_text %} {{ $tc('werkl-blog.list.textBlogOverview') }} {% endblock %} {% block werkl_blog_list_smart_bar_header_amount %} <span v-if="!isLoading" class="sw-page__smart-bar-amount" > ({{ total }}) </span> {% endblock %} </h2> </template> <template #language-switch> <sw-language-switch @on-change="changeLanguage"></sw-language-switch> </template> {% block werkl_blog_list_smart_bar_actions %} <template #smart-bar-actions> {% block werkl_blog_list_smart_bar_actions_add %} <mt-button @click="$router.push({ name: 'blog.module.create' })" variant="primary" > {{ $tc('werkl-blog.list.buttonAddBlogEntry') }} </mt-button> {% endblock %} </template> {% endblock %} <template #side-content> {% block werkl_blog_category_side_content %} {% endblock %} </template> <template #content> {% block werkl_blog_list_content %} <sw-entity-listing v-if="blogEntries" :items="blogEntries" :repository="blogEntriesRepository" :showSelection="false" :columns="columns" detailRoute="blog.module.detail" > {% block werkl_blog_list_grid_columns_name %} <template #column-active="{ item, isInlineEdit }"> {% block werkl_blog_list_grid_columns_name_inline_edit %} <template v-if="isInlineEdit"> <mt-checkbox v-model:checked="item.active"></mt-checkbox> </template> {% endblock %} {% block werkl_blog_list_grid_columns_name_content %} <template v-else> <mt-icon v-if="item.active" name="regular-checkmark-xs" size="16px" class="is--active" ></mt-icon> <mt-icon v-else name="regular-times-xs" size="16px" class="is--inactive" ></mt-icon> </template> {% endblock %} </template> {% endblock %} {% block werkl_blog_list_grid_columns_author %} <template #column-author="{ item }"> {% block werkl_blog_list_grid_columns_author_content %} <router-link :to="{ name: 'blog.module.author.detail', params: { id: item.authorId } }" > {{ salutation(item.blogAuthor) }} </router-link> {% endblock %} </template> {% endblock %} {% block werkl_blog_list_grid_columns_published %} <template #column-publishedAt="{ item }"> {{ dateFilter(item.publishedAt, { hour: undefined, minute: undefined }) }} </template> {% endblock %} </sw-entity-listing> {% endblock %} {% block werkl_blog_list_empty_state %} <sw-empty-state v-if="!isLoading && !total" :title="$tc('werkl-blog.list.messageEmpty')" > {{ $tc('werkl-blog-author.list.messageEmpty') }} </sw-empty-state> {% endblock %} </template> </sw-page> {% endblock %}`,{Mixin:i}=Shopware,e=Shopware.Data.Criteria,a={template:o,inject:["repositoryFactory"],mixins:[i.getByName("salutation"),i.getByName("listing")],data(){return{categoryId:null,blogEntries:null,total:0,isLoading:!0,currentLanguageId:Shopware.Context.api.languageId}},metaInfo(){return{title:this.$createTitle()}},created(){this.getList()},computed:{blogEntriesRepository(){return this.repositoryFactory.create("werkl_blog_entries")},blogCategoryRepository(){return this.repositoryFactory.create("werkl_blog_category")},dateFilter(){return Shopware.Filter.getByName("date")},columns(){return[{property:"title",dataIndex:"title",label:this.$tc("werkl-blog.list.table.title"),routerLink:"blog.module.detail",primary:!0,inlineEdit:"string"},{property:"author",label:this.$tc("werkl-blog.list.table.author"),inlineEdit:!1},{property:"publishedAt",label:this.$tc("werkl-blog.list.table.publishedAt"),inlineEdit:!1},{property:"active",label:this.$tc("werkl-blog.list.table.active"),inlineEdit:"boolean"}]}},methods:{changeLanguage(t){this.currentLanguageId=t,this.getList()},changeCategoryId(t){t&&t!==this.categoryId&&(this.categoryId=t,this.getList())},getList(){this.isLoading=!0;const t=new e(this.page,this.limit);return t.addAssociation("blogAuthor"),t.addAssociation("blogCategories"),t.addAssociation("tags"),t.addSorting(e.sort("publishedAt","DESC",!1)),this.categoryId&&t.addFilter(e.equals("blogCategories.id",this.categoryId)),this.blogEntriesRepository.search(t,Shopware.Context.api).then(l=>{this.total=l.total,this.blogEntries=l,this.isLoading=!1})}}};export{a as default};
//# sourceMappingURL=index-CdezLI12.js.map
