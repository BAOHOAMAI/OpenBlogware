{"version":3,"file":"index-CcORwb-Z.js","sources":["../../../app/administration/src/module/blog-module/elements/blog-single-select/component/sw-cms-el-blog-single-select.html.twig","../../../app/administration/src/module/blog-module/elements/blog-single-select/component/index.js"],"sourcesContent":["{% block werkl_cms_element_blog_single_select %}\n    <div class=\"werkl-cms-el-blog-single-select\">\n        <h6>{{ categoryName }}</h6>\n        <h3>{{ title }}</h3>\n        <img :src=\"articleImage\"/>\n        <p>{{ teaser }}</p>\n    </div>\n{% endblock %}","import template from './sw-cms-el-blog-single-select.html.twig';\nimport './sw-cms-el-blog-single-select.scss';\n\nconst { Mixin, Context } = Shopware;\nconst { Criteria } = Shopware.Data;\n\nexport default {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    created() {\n        this.createdComponent();\n    },\n\n    data() {\n        return {\n            article: null,\n            title: 'Placeholder Article Title',\n            teaser: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque faucibus maximus velit, dictum mollis erat finibus quis. Ut dictum ornare dolor, sed mattis tellus gravida vel.',\n            mediaUrl: null,\n            categoryName: 'Placeholder Category',\n        };\n    },\n\n    computed: {\n        articleImage() {\n            return this.mediaUrl ? this.mediaUrl : `${Shopware.Context.api.assetsPath}/administration/static/img/cms/preview_mountain_small.jpg`;\n        },\n\n        repository() {\n            return this.repositoryFactory.create('werkl_blog_entries');\n        },\n\n        selectedBlogEntry() {\n            return this.element.config.blogEntry.value;\n        },\n    },\n\n    methods: {\n        createdComponent() {\n            this.initElementConfig('blog-single-select');\n            this.initElementData('blog-single-select');\n\n            if (this.element.config.blogEntry.value) {\n                this.getEntityProperties();\n            }\n        },\n\n        getEntityProperties() {\n\n            if (this.element.config.blogEntry.value) {\n                const criteria = new Criteria();\n                criteria.addAssociation('blogCategories');\n                criteria.addAssociation('tags');\n\n                this.repository\n                    .get(this.element.config.blogEntry.value, Context.api, criteria)\n                    .then((entity) => {\n                        this.article = entity;\n                        this.title = this.article.translated.title;\n                        this.teaser = this.article.translated.teaser;\n                        this.mediaUrl = this.article.media.url;\n                        this.categoryName = this.article.blogCategories[0] ? this.article.blogCategories[0].translated.name : null;\n                    });\n            } else {\n                this.article = null;\n                this.title = 'Placeholder Article Title';\n                this.teaser = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque faucibus maximus velit, dictum mollis erat finibus quis. Ut dictum ornare dolor, sed mattis tellus gravida vel.';\n                this.mediaUrl = null;\n                this.categoryName = 'Placeholder Category';\n            }\n        },\n\n    },\n\n    watch: {\n        selectedBlogEntry: function () {\n            this.getEntityProperties();\n        },\n    },\n};\n"],"names":["template","Mixin","Context","Criteria","index","criteria","entity"],"mappings":"AAAA,MAAeA,EAAA,uNCGT,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAK,SACrB,CAAE,SAAAC,CAAQ,EAAK,SAAS,KAEfC,EAAA,CACX,SAAAJ,EAEA,OAAQ,CAAC,mBAAmB,EAE5B,OAAQ,CACJC,EAAM,UAAU,aAAa,CAChC,EAED,SAAU,CACN,KAAK,iBAAkB,CAC1B,EAED,MAAO,CACH,MAAO,CACH,QAAS,KACT,MAAO,4BACP,OAAQ,mLACR,SAAU,KACV,aAAc,sBACjB,CACJ,EAED,SAAU,CACN,cAAe,CACX,OAAO,KAAK,SAAW,KAAK,SAAW,GAAG,SAAS,QAAQ,IAAI,UAAU,2DAC5E,EAED,YAAa,CACT,OAAO,KAAK,kBAAkB,OAAO,oBAAoB,CAC5D,EAED,mBAAoB,CAChB,OAAO,KAAK,QAAQ,OAAO,UAAU,KACxC,CACJ,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,kBAAkB,oBAAoB,EAC3C,KAAK,gBAAgB,oBAAoB,EAErC,KAAK,QAAQ,OAAO,UAAU,OAC9B,KAAK,oBAAqB,CAEjC,EAED,qBAAsB,CAElB,GAAI,KAAK,QAAQ,OAAO,UAAU,MAAO,CACrC,MAAMI,EAAW,IAAIF,EACrBE,EAAS,eAAe,gBAAgB,EACxCA,EAAS,eAAe,MAAM,EAE9B,KAAK,WACA,IAAI,KAAK,QAAQ,OAAO,UAAU,MAAOH,EAAQ,IAAKG,CAAQ,EAC9D,KAAMC,GAAW,CACd,KAAK,QAAUA,EACf,KAAK,MAAQ,KAAK,QAAQ,WAAW,MACrC,KAAK,OAAS,KAAK,QAAQ,WAAW,OACtC,KAAK,SAAW,KAAK,QAAQ,MAAM,IACnC,KAAK,aAAe,KAAK,QAAQ,eAAe,CAAC,EAAI,KAAK,QAAQ,eAAe,CAAC,EAAE,WAAW,KAAO,IAC9H,CAAqB,CACrB,MACgB,KAAK,QAAU,KACf,KAAK,MAAQ,4BACb,KAAK,OAAS,mLACd,KAAK,SAAW,KAChB,KAAK,aAAe,sBAE3B,CAEJ,EAED,MAAO,CACH,kBAAmB,UAAY,CAC3B,KAAK,oBAAqB,CAC7B,CACJ,CACL"}