{"version":3,"file":"index-Cfel-GZi.js","sources":["../../../app/administration/src/module/blog-module/elements/blog/config/sw-cms-el-config-blog.html.twig","../../../app/administration/src/module/blog-module/elements/blog/config/index.js"],"sourcesContent":["{% block werkl_cms_element_blog_listing_config %}\n    <div class=\"sw-cms-el-config-blog\">\n        {% block werkl_cms_element_blog_listing_config_paginationCount_field %}\n        <mt-number-field\n            numberType=\"int\"\n            :step=\"1\"\n            :min=\"1\"\n            :max=\"null\"\n            v-model=\"element.config.paginationCount.value\"\n            :digits=\"2\"\n            :allowEmpty=\"false\"\n            :label=\"$tc('werkl-blog.elements.listing.config.paginationCount')\"\n        >\n    </mt-number-field>\n        {% endblock %}\n\n    {% block werkl_cms_element_blog_listing_config_show_type %}\n        <mt-select\n            :label=\"$tc('werkl-blog.elements.listing.config.showType.label')\"\n            v-model=\"element.config.showType.value\"\n            :options=\"[{\"\n            label\":\"{{\n            $tc('werkl-blog.elements.listing.config.showType.options.all')\n            }}\",\"value\":\"all\"},{\"label\":\"{{\n            $tc('werkl-blog.elements.listing.config.showType.options.select')\n            }}\",\"value\":\"select\"}]\"\n        ></mt-select>\n        {% endblock %}\n\n\n    {% block werkl_cms_element_blog_listing_config_select_categories %}\n        <werkl-blog-category-tree-field\n            v-if=\"element.config.showType.value !== 'all' && selectedCategories\"\n            v-model:value=\"selectedCategories\"\n            :label=\"$tc('werkl-blog.elements.listing.config.blogCategories.label')\"\n            :categoriesCollection=\"selectedCategories\"\n            class=\"sw-product-detail__select-category\"\n            :placeholder=\"$tc('werkl-blog.elements.listing.config.blogCategories.placeholder')\"\n        >\n    </werkl-blog-category-tree-field>\n        {% endblock %}\n\n    {% block werkl_cms_element_blog_listing_config_show_filter_select %}\n        <mt-card\n            :title=\"$tc('werkl-blog.elements.listing.config.showFilter.label')\"\n            :hero=\"false\"\n            :isLoading=\"false\"\n            :large=\"false\"\n            class=\"sw-blog-config-filter\"\n        >\n            <mt-checkbox\n                :label=\"$tc('werkl-blog.elements.listing.config.showFilter.options.filter.category')\"\n                v-model:checked=\"element.config.showCategoryFilter.value\"\n            >\n        </mt-checkbox>\n            <mt-checkbox\n                :label=\"$tc('werkl-blog.elements.listing.config.showFilter.options.filter.author')\"\n                v-model:checked=\"element.config.showAuthorFilter.value\"\n            >\n        </mt-checkbox>\n        </mt-card>\n        {% endblock %}\n    </div>\n{% endblock %}","import template from './sw-cms-el-config-blog.html.twig';\nimport './sw-cms-el-config-blog.scss';\n\nconst { Mixin } = Shopware;\nconst { EntityCollection, Criteria } = Shopware.Data;\n\nexport default {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    data() {\n        return {\n            categories: [],\n            selectedCategories: null,\n        };\n    },\n    computed: {\n        blogCategoryRepository() {\n            return this.repositoryFactory.create('werkl_blog_category');\n        },\n\n        blogListingSelectContext() {\n            const context = Object.assign({}, Shopware.Context.api);\n            context.inheritance = true;\n\n            return context;\n        },\n\n        blogCategoriesConfigValue() {\n            return this.element.config.blogCategories.value;\n        },\n    },\n\n    watch: {\n        selectedCategories: {\n            handler(value) {\n                this.element.config.blogCategories.value = value.getIds();\n                this.$set(this.element.data, 'blogCategories', value);\n                this.$emit('element-update', this.element);\n            },\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        async createdComponent() {\n            this.initElementConfig('blog');\n            await this.getSelectedCategories();\n        },\n\n        getSelectedCategories() {\n            if (!Shopware.Utils.types.isEmpty(this.blogCategoriesConfigValue)) {\n                const criteria = new Criteria();\n                criteria.setIds(this.blogCategoriesConfigValue);\n\n                this.blogCategoryRepository\n                    .search(criteria, Shopware.Context.api)\n                    .then((result) => {\n                        this.selectedCategories = result;\n                    });\n            } else {\n                this.selectedCategories = new EntityCollection(\n                    this.blogCategoryRepository.route,\n                    this.blogCategoryRepository.schema.entity,\n                    Shopware.Context.api,\n                    new Criteria(),\n                );\n            }\n        },\n    },\n};\n"],"names":["template","Mixin","EntityCollection","Criteria","index","context","value","criteria","result"],"mappings":"AAAA,MAAeA,EAAA,k5DCGT,CAAE,MAAAC,CAAO,EAAG,SACZ,CAAE,iBAAAC,EAAkB,SAAAC,GAAa,SAAS,KAEjCC,EAAA,CACX,SAAAJ,EAEA,OAAQ,CAAC,mBAAmB,EAE5B,OAAQ,CACJC,EAAM,UAAU,aAAa,CAChC,EAED,MAAO,CACH,MAAO,CACH,WAAY,CAAE,EACd,mBAAoB,IACvB,CACJ,EACD,SAAU,CACN,wBAAyB,CACrB,OAAO,KAAK,kBAAkB,OAAO,qBAAqB,CAC7D,EAED,0BAA2B,CACvB,MAAMI,EAAU,OAAO,OAAO,CAAE,EAAE,SAAS,QAAQ,GAAG,EACtD,OAAAA,EAAQ,YAAc,GAEfA,CACV,EAED,2BAA4B,CACxB,OAAO,KAAK,QAAQ,OAAO,eAAe,KAC7C,CACJ,EAED,MAAO,CACH,mBAAoB,CAChB,QAAQC,EAAO,CACX,KAAK,QAAQ,OAAO,eAAe,MAAQA,EAAM,OAAQ,EACzD,KAAK,KAAK,KAAK,QAAQ,KAAM,iBAAkBA,CAAK,EACpD,KAAK,MAAM,iBAAkB,KAAK,OAAO,CAC5C,CACJ,CACJ,EAED,SAAU,CACN,KAAK,iBAAkB,CAC1B,EAED,QAAS,CACL,MAAM,kBAAmB,CACrB,KAAK,kBAAkB,MAAM,EAC7B,MAAM,KAAK,sBAAuB,CACrC,EAED,uBAAwB,CACpB,GAAK,SAAS,MAAM,MAAM,QAAQ,KAAK,yBAAyB,EAU5D,KAAK,mBAAqB,IAAIJ,EAC1B,KAAK,uBAAuB,MAC5B,KAAK,uBAAuB,OAAO,OACnC,SAAS,QAAQ,IACjB,IAAIC,CACP,MAf8D,CAC/D,MAAMI,EAAW,IAAIJ,EACrBI,EAAS,OAAO,KAAK,yBAAyB,EAE9C,KAAK,uBACA,OAAOA,EAAU,SAAS,QAAQ,GAAG,EACrC,KAAMC,GAAW,CACd,KAAK,mBAAqBA,CAClD,CAAqB,CACrB,CAQS,CACJ,CACL"}