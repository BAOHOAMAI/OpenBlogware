{"version":3,"file":"index-B4-jcPl8.js","sources":["../../../app/administration/src/module/blog-module/page/werkl-blog-author/werkl-blog-author-list/werkl-blog-author-list.html.twig","../../../app/administration/src/module/blog-module/page/werkl-blog-author/werkl-blog-author-list/index.js"],"sourcesContent":["{% block werkl_blog_author_list %}\n    <sw-page class=\"werkl-blog-author-list\">\n        <template #smart-bar-header>\n            <h2>\n                {% block werkl_blog_author_list_smart_bar_header_title_text %}\n                {{ $tc('werkl-blog-author.list.textBlogOverview') }}\n                {% endblock %}\n\n            {% block werkl_blog_author_list_smart_bar_header_amount %}\n                <span\n                    v-if=\"!isLoading\"\n                    class=\"sw-page__smart-bar-amount\"\n                >\n            ({{ total }})\n            </span>\n                {% endblock %}\n            </h2>\n        </template>\n\n        <template #language-switch>\n            <sw-language-switch @on-change=\"changeLanguage\"></sw-language-switch>\n        </template>\n        {% block werkl_blog_author_list_smart_bar_actions %}\n        <template #smart-bar-actions>\n            {% block werkl_blog_author_list_smart_bar_actions_add %}\n            <mt-button\n                :router-link=\"{ name: 'blog.module.author.create' }\"\n                variant=\"primary\"\n            >\n                {{ $tc('werkl-blog-author.list.buttonAdd') }}\n            </mt-button>\n            {% endblock %}\n        </template>\n        {% endblock %}\n        <template #sidebar>\n            <werkl-blog-vertical-tabs :defaultItem=\"'author'\"/>\n        </template>\n\n        <template #content>\n            {% block werkl_blog_author_list_content %}\n            <sw-entity-listing\n                v-if=\"blogAuthors\"\n                :items=\"blogAuthors\"\n                :repository=\"blogAuthorRepository\"\n                :showSelection=\"false\"\n                :columns=\"columns\"\n                detailRoute=\"blog.module.author.detail\"\n            >\n                {% block werkl_blog_author_list_columns_image_preview %}\n                <template #preview-fullName=\"{ item, compact }\">\n                    <sw-avatar\n                        :size=\"compact ? '32px' : '48px'\"\n                        :imageUrl=\"item.media ? item.media.url : null\"\n                        :sourceContext=\"item\"\n                        :firstName=\"item.firstName\"\n                        :lastName=\"item.lastName\"\n                    >\n                </sw-avatar>\n                </template>\n                {% endblock %}\n\n            {% block werkl_blog_author_list_grid_columns_name %}\n                <template\n                    #column-fullName=\"{ item, compact, isInlineEdit }\"\n                >\n                    {% block werkl_blog_author_list_grid_inline_edit_name %}\n                    <template v-if=\"isInlineEdit\">\n                        {% block werkl_blog_author_list_grid_inline_edit_first_name %}\n                        <mt-text-field\n                            class=\"werkl-blog-author-list__inline-edit-first-name\"\n                            v-model=\"item.firstName\"\n                            :size=\"compact ? 'small' : 'default'\"\n                        />\n                        {% endblock %}\n\n                    {% block werkl_blog_author_list_grid_inline_edit_last_name %}\n                        <mt-text-field\n                            class=\"werkl-blog-author-list__inline-edit-last-name\"\n                            v-model=\"item.lastName\"\n                            :size=\"compact ? 'small' : 'default'\"\n                        />\n                        {% endblock %}\n                    </template>\n                    {% endblock %}\n\n                {% block werkl_blog_author_list_grid_columns_name_link %}\n                    <router-link\n                        v-else\n                        :to=\"{ name: 'blog.module.author.detail', params: { id: item.id } }\"\n                    >\n                    {{ item.firstName }} {{ item.lastName }}\n                </router-link>\n                    {% endblock %}\n                </template>\n                {% endblock %}\n            </sw-entity-listing>\n            {% endblock %}\n\n        {% block werkl_blog_author_list_empty_state %}\n            <sw-empty-state\n                v-if=\"!isLoading && !total\"\n                :title=\"$tc('werkl-blog-author.list.messageEmpty')\"\n            >\n                {{ $tc('werkl-blog-author.list.messageEmpty') }}\n            </sw-empty-state>\n            {% endblock %}\n        </template>\n    </sw-page>\n{% endblock %}","import template from './werkl-blog-author-list.html.twig';\nimport './werkl-blog-author-list.scss';\n\nconst { Mixin } = Shopware;\n\nconst Criteria = Shopware.Data.Criteria;\n\nexport default {\n    template,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('notification'),\n        Mixin.getByName('salutation'),\n        Mixin.getByName('listing'),\n    ],\n\n    data() {\n        return {\n            blogAuthors: null,\n            total: 0,\n            isLoading: true,\n            currentLanguageId: Shopware.Context.api.languageId,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    created() {\n        this.getList();\n    },\n\n    computed: {\n        blogAuthorRepository() {\n            return this.repositoryFactory.create('werkl_blog_author');\n        },\n\n        columns() {\n            return [\n                {\n                    property: 'salutation.displayName',\n                    label: 'werkl-blog-author.list.table.salutation',\n                    width: '100px',\n                    allowResize: true,\n                }, {\n                    property: 'fullName',\n                    dataIndex: 'firstName,lastName',\n                    inlineEdit: 'string',\n                    label: 'werkl-blog-author.list.table.fullName',\n                    routerLink: 'sw.blog.author.detail',\n                    allowResize: true,\n                    primary: true,\n                }, {\n                    property: 'displayName',\n                    label: 'werkl-blog-author.list.table.displayName',\n                    allowResize: true,\n                    inlineEdit: 'string',\n                }, {\n                    property: 'email',\n                    label: 'werkl-blog-author.list.table.email',\n                    align: 'right',\n                    inlineEdit: 'string',\n                    allowResize: true,\n                },\n            ];\n        },\n    },\n\n    methods: {\n        changeLanguage(newLanguageId) {\n            this.currentLanguageId = newLanguageId;\n            this.getList();\n        },\n\n        getList() {\n            this.isLoading = true;\n            const criteria = new Criteria(this.page, this.limit);\n            criteria.addAssociation('media');\n            criteria.addAssociation('salutation');\n\n            return this.blogAuthorRepository.search(criteria, Shopware.Context.api).then((result) => {\n                this.total = result.total;\n                this.blogAuthors = result;\n                this.isLoading = false;\n            });\n        },\n    },\n};\n"],"names":["template","Mixin","Criteria","index","newLanguageId","criteria","result"],"mappings":"AAAA,MAAeA,EAAA,yoFCGT,CAAE,MAAAC,CAAO,EAAG,SAEZC,EAAW,SAAS,KAAK,SAEhBC,EAAA,CACX,SAAAH,EAEA,OAAQ,CAAC,mBAAmB,EAE5B,OAAQ,CACJC,EAAM,UAAU,cAAc,EAC9BA,EAAM,UAAU,YAAY,EAC5BA,EAAM,UAAU,SAAS,CAC5B,EAED,MAAO,CACH,MAAO,CACH,YAAa,KACb,MAAO,EACP,UAAW,GACX,kBAAmB,SAAS,QAAQ,IAAI,UAC3C,CACJ,EAED,UAAW,CACP,MAAO,CACH,MAAO,KAAK,aAAc,CAC7B,CACJ,EAED,SAAU,CACN,KAAK,QAAS,CACjB,EAED,SAAU,CACN,sBAAuB,CACnB,OAAO,KAAK,kBAAkB,OAAO,mBAAmB,CAC3D,EAED,SAAU,CACN,MAAO,CACH,CACI,SAAU,yBACV,MAAO,0CACP,MAAO,QACP,YAAa,EACjC,EAAmB,CACC,SAAU,WACV,UAAW,qBACX,WAAY,SACZ,MAAO,wCACP,WAAY,wBACZ,YAAa,GACb,QAAS,EAC7B,EAAmB,CACC,SAAU,cACV,MAAO,2CACP,YAAa,GACb,WAAY,QAChC,EAAmB,CACC,SAAU,QACV,MAAO,qCACP,MAAO,QACP,WAAY,SACZ,YAAa,EAChB,CACJ,CACJ,CACJ,EAED,QAAS,CACL,eAAeG,EAAe,CAC1B,KAAK,kBAAoBA,EACzB,KAAK,QAAS,CACjB,EAED,SAAU,CACN,KAAK,UAAY,GACjB,MAAMC,EAAW,IAAIH,EAAS,KAAK,KAAM,KAAK,KAAK,EACnD,OAAAG,EAAS,eAAe,OAAO,EAC/BA,EAAS,eAAe,YAAY,EAE7B,KAAK,qBAAqB,OAAOA,EAAU,SAAS,QAAQ,GAAG,EAAE,KAAMC,GAAW,CACrF,KAAK,MAAQA,EAAO,MACpB,KAAK,YAAcA,EACnB,KAAK,UAAY,EACjC,CAAa,CACJ,CACJ,CACL"}